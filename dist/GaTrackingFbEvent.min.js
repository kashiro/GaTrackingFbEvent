/**
 * @class GaTrackingFbEvent
 * @version 0.1.0
 * @author Tomoyuki Kashiro <kashiro@github>
 * @license MIT
 */
!function(a){"use strict";var b={like:"edge.create",unlike:"edge.remove",addComment:"comment.create",removeComment:"comment.remove",sendMessage:"message.send"},c=function(a){this.opt=this.initOpt(a),this.eventList=this.makeEvnetList(this.opt),this.cb=a.callback};c.prototype={initOpt:function(a){var b=a||{},c={like:!!b.like,unlike:!!b.unlike,addComment:!!b.addComment,removeComment:!!b.removeComment,sendMessage:!!b.sendMessage};return c},makeEvnetList:function(a){var c,d=[];for(c in a)a[c]&&d.push({label:c,eName:b[c]});return d},subscribe:function(){this.hasSdk()&&this.subscribeAll()},unsubscribe:function(){this.hasFbSdk()&&this.subscribeAll(!0)},hasSdk:function(){return this.hasGaSdk()&&this.hasFbSdk()},hasGaSdk:function(){var a=!!ga;return a||console.error("There is not google analytics sdk."),a},hasFbSdk:function(){var a=!!FB;return a||console.error("There is not Facebook sdk."),a},subscribeAll:function(a){for(var b=this,c=a?this.unSubscribeFb:this.subscribeFb,d=this.eventList,e=d.length,f=0;e>f;f++)c.apply(b,[d[f]])},unSubscribeFb:function(a){FB.Event.unsubscribe(a.eName)},subscribeFb:function(a){var b=this;FB.Event.subscribe(a.eName,function(c){b.onFbEvent(a.label,c)})},onFbEvent:function(a,b){var c=b.href||b;ga("send","social","facebook",a,c),this.cb&&this.cb(b)}},a.GaTrackingFbEvent=c}(window);